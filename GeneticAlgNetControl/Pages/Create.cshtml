@page
@model CreateModel
@{
    ViewData["Title"] = "Create";
    ViewData["ActivePage"] = "Create";
}

<form method="post">
    <div asp-validation-summary="ModelOnly" class="alert alert-danger"></div>
    <div class="row h4">
        <div class="col-1 text-center">
            <span><i class="fas fa-font"></i></span>
        </div>
        <div class="col-11 text-left">
            <span>General details</span>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="offset-1 col-11">
            <div class="row">
                <div class="col-lg-6">
                    <div class="form-group">
                        <label asp-for="Input.Name" class="font-weight-bold">Name</label>
                        <input asp-for="Input.Name" class="form-control" />
                        <span asp-description-for="Input.Name" class="text-muted small">The name of the new algorithm run.</span>
                        <span asp-validation-for="Input.Name" class="text-danger small"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row h4">
        <div class="col-1 text-center">
            <span><i class="fas fa-share-alt"></i></span>
        </div>
        <div class="col-11 text-left">
            <span>Network</span>
        </div>
    </div>
    <hr />
    <div class="row file-group" data-type="edges">
        <div class="offset-1 col-11">
            <label class="font-weight-bold">Edges</label>
            <span class="badge badge-dark file-group-count">0</span>
            <div class="row">
                <div class="col-lg-6">
                    <div class="form-group" hidden>
                        <label asp-for="Input.Edges" class="font-weight-bold">Edges</label>
                        <textarea asp-for="Input.Edges" class="form-control file-group-input"></textarea>
                        <span asp-description-for="Input.Edges" class="text-muted small">The edges of the network, formatted as a JSON object. This field should not be directly interacted with, the form entries below should be used to edit the data instead.</span>
                        <span asp-validation-for="Input.Edges" class="text-danger small"></span>
                    </div>
                    <div class="form-group">
                        <label for="edges-textarea">Content</label>
                        <textarea id="edges-textarea" class="form-control file-group-text"></textarea>
                        <div class="custom-file mt-2">
                            <input type="file" class="custom-file-input file-group-file-upload" />
                            <label class="custom-file-label file-group-file-label">Choose file</label>
                        </div>
                        <span class="text-muted small">The edges of the network. The data can also be uploaded from a file. The content will appear, unchanged, above.</span>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label class="font-weight-normal" for="edges-line-separator">Line separator</label>
                        <select id="edges-line-separator" class="custom-select file-group-separator file-group-line-separator">
                            <option value=",">comma (",")</option>
                            <option value=";">semicolon (";")</option>
                            <option value="\t">tab ("\t")</option>
                            <option value="\s">space (" ")</option>
                            <option value="\n" selected>new line ("\n")</option>
                        </select>
                        <span class="text-muted small text-justify">The character that separates the different edges.</span>
                    </div>
                    <div class="form-group">
                        <label class="font-weight-normal" for="edges-in-line-separator">In-line separator</label>
                        <select id="edges-in-line-separator" class="custom-select file-group-separator file-group-in-line-separator">
                            <option value=",">comma (",")</option>
                            <option value=";" selected>semicolon (";")</option>
                            <option value="\t">tab ("\t")</option>
                            <option value="\s">space (" ")</option>
                            <option value="\n">new line ("\n")</option>
                        </select>
                        <span class="text-muted small">The character that separates the the source and target nodes in an edge.</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row file-group" data-type="nodes">
        <div class="offset-1 col-11">
            <label class="font-weight-bold">Target nodes</label>
            <span class="badge badge-dark file-group-count">0</span>
            <div class="row">
                <div class="col-lg-6">
                    <div class="form-group" hidden>
                        <label asp-for="Input.TargetNodes" class="font-weight-bold">Target nodes</label>
                        <textarea asp-for="Input.TargetNodes" class="form-control file-group-input"></textarea>
                        <span asp-description-for="Input.TargetNodes" class="text-muted small">The nodes to be used as target by the algorithm, formatted as a JSON string array. This field should not be directly interacted with, the form entries below should be used to edit the data instead.</span>
                        <span asp-validation-for="Input.TargetNodes" class="text-danger small"></span>
                    </div>
                    <div class="form-group">
                        <label for="target-nodes-textarea">Content</label>
                        <textarea id="target-nodes-textarea" class="form-control file-group-text"></textarea>
                        <div class="custom-file mt-2">
                            <input type="file" class="custom-file-input file-group-file-upload" />
                            <label class="custom-file-label file-group-file-label">Choose file</label>
                        </div>
                        <span class="text-muted small">The target nodes in the network. The data can also be uploaded from a file. The content will appear, unchanged, above.</span>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label class="font-weight-normal" for="target-nodes-line-separator">Line separator</label>
                        <select id="target-nodes-line-separator" class="custom-select file-group-separator file-group-line-separator">
                            <option value=",">comma (",")</option>
                            <option value=";">semicolon (";")</option>
                            <option value="\t">tab ("\t")</option>
                            <option value="\s">space (" ")</option>
                            <option value="\n" selected>new line ("\n")</option>
                        </select>
                        <span class="text-muted small">The character that separates the different target nodes.</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row file-group" data-type="nodes">
        <div class="offset-1 col-11">
            <label class="font-weight-bold">Preferred nodes</label>
            <span class="badge badge-dark file-group-count">0</span>
            <div class="row">
                <div class="col-lg-6">
                    <div class="form-group" hidden>
                        <label asp-for="Input.PreferredNodes" class="font-weight-bold">Preferred nodes</label>
                        <textarea asp-for="Input.PreferredNodes" class="form-control file-group-input"></textarea>
                        <span asp-description-for="Input.PreferredNodes" class="text-muted small">The nodes to be used as preferred by the algorithm, formatted as a JSON string array. This field should not be directly interacted with, the form entries below should be used to edit the data instead.</span>
                        <span asp-validation-for="Input.PreferredNodes" class="text-danger small"></span>
                    </div>
                    <div class="form-group">
                        <label for="preferred-nodes-textarea">Content</label>
                        <textarea id="preferred-nodes-textarea" class="form-control file-group-text"></textarea>
                        <div class="custom-file mt-2">
                            <input type="file" class="custom-file-input file-group-file-upload" />
                            <label class="custom-file-label file-group-file-label">Choose file</label>
                        </div>
                        <span class="text-muted small">The preferred nodes in the network. The data can also be uploaded from a file. The content will appear, unchanged, above.</span>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label class="font-weight-normal" for="preferred-nodes-line-separator">Line separator</label>
                        <select id="preferred-nodes-line-separator" class="custom-select file-group-separator file-group-line-separator">
                            <option value=",">comma (",")</option>
                            <option value=";">semicolon (";")</option>
                            <option value="\t">tab ("\t")</option>
                            <option value="\s">space (" ")</option>
                            <option value="\n" selected>new line ("\n")</option>
                        </select>
                        <span class="text-muted small">The character that separates the different preferred nodes.</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row h4">
        <div class="col-1 text-center">
            <span><i class="fas fa-code"></i></span>
        </div>
        <div class="col-11 text-left">
            <span>Parameters</span>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="offset-1 col-11">
            <div class="row">
                <div class="col-lg-4 order-1 order-lg-1 align-self-center">
                    <label asp-for="Input.RandomSeed" class="font-weight-bold">Random seed</label>
                </div>
                <div class="col-lg-4 order-1 order-lg-2">
                    <input asp-for="Input.RandomSeed" class="form-control parameter-group-parameter" data-defaultValue="@CreateModel.InputModel.DefaultValues.RandomSeed" />
                </div>
                <div class="col-lg-4 order-1 order-lg-3 mb-3">
                    <span asp-description-for="Input.RandomSeed" class="text-muted small">The random seed to be used by the algorithm.</span>
                    <span asp-validation-for="Input.RandomSeed" class="text-danger small"></span>
                </div>
                <div class="col-lg-4 order-2 order-lg-1 align-self-center">
                    <label asp-for="Input.MaximumIterations" class="font-weight-bold">Maximum iterations</label>
                </div>
                <div class="col-lg-4 order-2 order-lg-2">
                    <input asp-for="Input.MaximumIterations" class="form-control parameter-group-parameter" data-defaultValue="@CreateModel.InputModel.DefaultValues.MaximumIterations" />
                </div>
                <div class="col-lg-4 order-2 order-lg-3 mb-3">
                    <span asp-description-for="Input.MaximumIterations" class="text-muted small">The maximum number of generations for which the algorithm will run.</span>
                    <span asp-validation-for="Input.MaximumIterations" class="text-danger small"></span>
                </div>
                <div class="col-lg-4 order-3 order-lg-1 align-self-center">
                    <label asp-for="Input.MaximumIterationsWithoutImprovement" class="font-weight-bold">Maximum iterations without improvement</label>
                </div>
                <div class="col-lg-4 order-3 order-lg-2">
                    <input asp-for="Input.MaximumIterationsWithoutImprovement" class="form-control parameter-group-parameter" data-defaultValue="@CreateModel.InputModel.DefaultValues.MaximumIterationsWithoutImprovement" />
                </div>
                <div class="col-lg-4 order-3 order-lg-3 mb-3">
                    <span asp-description-for="Input.MaximumIterationsWithoutImprovement" class="text-muted small">The maximum number of generations without improvement in the size of the best solutions before the algorithm will stop.</span>
                    <span asp-validation-for="Input.MaximumIterationsWithoutImprovement" class="text-danger small"></span>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="offset-1 col-11">
            <div class="row">
                <div class="col-lg-4 order-1 order-lg-1 align-self-center">
                    <label asp-for="Input.MaximumPathLength" class="font-weight-bold">Maximum path length</label>
                </div>
                <div class="col-lg-4 order-1 order-lg-2">
                    <input asp-for="Input.MaximumPathLength" class="form-control parameter-group-parameter" data-defaultValue="@CreateModel.InputModel.DefaultValues.MaximumPathLength" />
                </div>
                <div class="col-lg-4 order-1 order-lg-3 mb-3">
                    <span asp-description-for="Input.MaximumPathLength" class="text-muted small">The maximum length of a control path (between a target node and the node which controls it).</span>
                    <span asp-validation-for="Input.MaximumPathLength" class="text-danger small"></span>
                </div>
                <div class="col-lg-4 order-2 order-lg-1 align-self-center">
                    <label asp-for="Input.PopulationSize" class="font-weight-bold">Population size</label>
                </div>
                <div class="col-lg-4 order-2 order-lg-2">
                    <input asp-for="Input.PopulationSize" class="form-control parameter-group-parameter" data-defaultValue="@CreateModel.InputModel.DefaultValues.PopulationSize" />
                </div>
                <div class="col-lg-4 order-2 order-lg-3 mb-3">
                    <span asp-description-for="Input.PopulationSize" class="text-muted small">The number of chromosomes in each generation.</span>
                    <span asp-validation-for="Input.PopulationSize" class="text-danger small"></span>
                </div>
                <div class="col-lg-4 order-3 order-lg-1 align-self-center">
                    <label asp-for="Input.RandomGenesPerChromosome" class="font-weight-bold">Random genes per chromosome</label>
                </div>
                <div class="col-lg-4 order-3 order-lg-2">
                    <input asp-for="Input.RandomGenesPerChromosome" class="form-control parameter-group-parameter" data-defaultValue="@CreateModel.InputModel.DefaultValues.RandomGenesPerChromosome" />
                </div>
                <div class="col-lg-4 order-3 order-lg-3 mb-3">
                    <span asp-description-for="Input.RandomGenesPerChromosome" class="text-muted small">The maximum number of genes in a randomly generated chromosome that will have a randomly generated value. All of the other genes will have a default value.</span>
                    <span asp-validation-for="Input.RandomGenesPerChromosome" class="text-danger small"></span>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="offset-1 col-11">
            <div class="row">
                <div class="col-lg-4 order-1 order-lg-1 align-self-center">
                    <label asp-for="Input.PercentageRandom" class="font-weight-bold">Percentage of random chromosomes</label>
                </div>
                <div class="col-lg-4 order-1 order-lg-2">
                    <input asp-for="Input.PercentageRandom" class="form-control parameter-group-parameter" data-defaultValue="@CreateModel.InputModel.DefaultValues.PercentageRandom" />
                </div>
                <div class="col-lg-4 order-1 order-lg-3 mb-3">
                    <span asp-description-for="Input.PercentageRandom" class="text-muted small">The percentage of randomly generated chromosomes in any population.</span>
                    <span asp-validation-for="Input.PercentageRandom" class="text-danger small"></span>
                </div>
                <div class="col-lg-4 order-2 order-lg-1 align-self-center">
                    <label asp-for="Input.PercentageElite" class="font-weight-bold">Percentage of elite chromosomes</label>
                </div>
                <div class="col-lg-4 order-2 order-lg-2">
                    <input asp-for="Input.PercentageElite" class="form-control parameter-group-parameter" data-defaultValue="@CreateModel.InputModel.DefaultValues.PercentageElite" />
                </div>
                <div class="col-lg-4 order-2 order-lg-3 mb-3">
                    <span asp-description-for="Input.PercentageElite" class="text-muted small">The maximum percentage of elite chromosomes saved directly from one generation to the next.</span>
                    <span asp-validation-for="Input.PercentageElite" class="text-danger small"></span>
                </div>
                <div class="col-lg-4 order-3 order-lg-1 align-self-center">
                    <label asp-for="Input.ProbabilityMutation" class="font-weight-bold">Probability of mutation</label>
                </div>
                <div class="col-lg-4 order-3 order-lg-2">
                    <input asp-for="Input.ProbabilityMutation" class="form-control parameter-group-parameter" data-defaultValue="@CreateModel.InputModel.DefaultValues.ProbabilityMutation" />
                </div>
                <div class="col-lg-4 order-3 order-lg-3 mb-3">
                    <span asp-description-for="Input.ProbabilityMutation" class="text-muted small">The probability for any new generated chromosome to suffer a mutation.</span>
                    <span asp-validation-for="Input.ProbabilityMutation" class="text-danger small"></span>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="offset-1 col-11">
            <div class="row">
                <div class="col-lg-6 order-1 order-lg-1 align-self-center">
                    <label asp-for="Input.CrossoverType" class="font-weight-bold">Crossover type</label>
                </div>
                <div class="col-lg-6 order-1 order-lg-2">
                    <select asp-for="Input.CrossoverType" asp-items="Html.GetEnumSelectList<Data.Enumerations.AlgorithmCrossoverType>()" class="form-control parameter-group-parameter" data-defaultValue="@CreateModel.InputModel.DefaultValues.CrossoverType"></select>
                </div>
                <div class="col-lg-6 order-1 order-lg-3 mb-3">
                    <span asp-description-for="Input.CrossoverType" class="text-muted small">The crossover algorithm which will be used.</span>
                    <span asp-validation-for="Input.CrossoverType" class="text-danger small"></span>
                </div>
                <div class="col-lg-6 order-2 order-lg-1 align-self-center">
                    <label asp-for="Input.MutationType" class="font-weight-bold">Mutation type</label>
                </div>
                <div class="col-lg-6 order-2 order-lg-2">
                    <select asp-for="Input.MutationType" asp-items="Html.GetEnumSelectList<Data.Enumerations.AlgorithmMutationType>()" class="form-control parameter-group-parameter" data-defaultValue="@CreateModel.InputModel.DefaultValues.MutationType"></select>
                </div>
                <div class="col-lg-6 order-2 order-lg-3 mb-3">
                    <span asp-description-for="Input.MutationType" class="text-muted small">The mutation algorithm which will be used.</span>
                    <span asp-validation-for="Input.MutationType" class="text-danger small"></span>
                </div>
            </div>
        </div>
    </div>
    <button type="submit" class="btn btn-block btn-success" title="Create">
        <span>Create</span>
    </button>
</form>
