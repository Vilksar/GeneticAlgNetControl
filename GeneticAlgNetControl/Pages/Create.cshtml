@page
@model CreateModel
@{
    ViewData["Title"] = "Create";
    ViewData["ActivePage"] = "Create";
}

<div class="flex-grow-1 p-4 d-flex flex-column current-page-create">
    <div class="container my-2 sticky-top">
        <div class="card px-5 pt-3 pt-md-0 shadow-sm">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-left">
                    <span class="font-weight-bold">Create</span>
                </div>
                <div class="col-md-6 navbar navbar-light">
                    <div class="navbar-nav flex-row flex-wrap align-items-center justify-content-center justify-content-md-end w-100">
                        <a asp-page="/Dashboard" class="nav-item nav-link mx-2" title="Dashboard">
                            <span><i class="fas fa-chart-bar"></i></span>
                        </a>
                        <a asp-page="/About" class="nav-item nav-link mx-2" title="About">
                            <span><i class="fas fa-question-circle"></i></span>
                        </a>
                        <a asp-page="/Index" class="nav-item nav-link mx-2" title="Home">
                            <span><i class="fas fa-home"></i></span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <form method="post" class="d-flex flex-column">
        <div class="container">
            <div asp-validation-summary="ModelOnly" class="my-2 alert alert-danger mb-0 shadow-sm"></div>
        </div>
        <div class="container my-2">
            <div class="card shadow-sm">
                <div class="card-header text-white bg-info">
                    <div class="row align-items-center">
                        <div class="col-11 text-left">
                            <span class="font-weight-bold">Details</span>
                        </div>
                        <div class="col-1 text-center">
                            <span><i class="fas fa-font"></i></span>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <label asp-for="Input.Name" class="font-weight-bold">Name</label>
                        <input asp-for="Input.Name" class="form-control" />
                        <span asp-description-for="Input.Name" class="text-muted small">The name of the new analysis.</span>
                        <span asp-validation-for="Input.Name" class="text-danger small"></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="container my-2">
            <div class="card shadow-sm">
                <div class="card-header text-white bg-primary">
                    <div class="row align-items-center">
                        <div class="col-11 text-left">
                            <span class="font-weight-bold">Network</span>
                        </div>
                        <div class="col-1 text-center">
                            <span><i class="fas fa-share-alt"></i></span>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="file-group" data-type="edges">
                        <div class="form-group" hidden>
                            <label asp-for="Input.Edges" class="font-weight-bold">Edges</label>
                            <textarea asp-for="Input.Edges" class="form-control file-group-input"></textarea>
                            <span asp-description-for="Input.Edges" class="text-muted small">The edges of the network, formatted as a JSON object. This field should not be directly interacted with, the form entries below should be used to edit the data instead.</span>
                            <span asp-validation-for="Input.Edges" class="text-danger small"></span>
                        </div>
                        <div class="form-group">
                            <div class="row align-items-center mb-2">
                                <div class="col-lg-4">
                                    <label for="edges-textarea" class="font-weight-bold my-0">Edges</label>
                                    <span class="badge badge-dark file-group-count">0</span>
                                </div>
                                <div class="col-lg-8">
                                    <div class="row align-items-center mb-1">
                                        <div class="col-6 col-form-label-sm text-right">
                                            <label for="edges-in-line-separator" class="font-weight-normal my-0">In-line separator:</label>
                                        </div>
                                        <div class="col-6 text-left">
                                            <select id="edges-in-line-separator" class="custom-select custom-select-sm file-group-separator file-group-in-line-separator">
                                                <option value=",">comma (",")</option>
                                                <option value=";" selected>semicolon (";")</option>
                                                <option value="\t">tab ("\t")</option>
                                                <option value="\s">space (" ")</option>
                                                <option value="\n">new line ("\n")</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row align-items-center">
                                        <div class="col-6 col-form-label-sm text-right">
                                            <label for="edges-line-separator" class="font-weight-normal my-0">Line separator:</label>
                                        </div>
                                        <div class="col-6 text-left">
                                            <select id="edges-line-separator" class="custom-select custom-select-sm file-group-separator file-group-line-separator">
                                                <option value=",">comma (",")</option>
                                                <option value=";">semicolon (";")</option>
                                                <option value="\t">tab ("\t")</option>
                                                <option value="\s">space (" ")</option>
                                                <option value="\n" selected>new line ("\n")</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <textarea id="edges-textarea" class="form-control file-group-text"></textarea>
                            <div class="custom-file mt-2">
                                <input type="file" class="custom-file-input file-group-file-upload" />
                                <label class="custom-file-label file-group-file-label">Choose file</label>
                            </div>
                            <span class="text-muted small">The edges of the network. The data can also be uploaded from a file. The content will appear, unchanged, above.</span>
                        </div>
                    </div>
                    <div class="file-group" data-type="nodes">
                        <div class="form-group" hidden>
                            <label asp-for="Input.TargetNodes" class="font-weight-bold">Target nodes</label>
                            <textarea asp-for="Input.TargetNodes" class="form-control file-group-input"></textarea>
                            <span asp-description-for="Input.TargetNodes" class="text-muted small">The nodes to be used as target by the analysis, formatted as a JSON string array. This field should not be directly interacted with, the form entries below should be used to edit the data instead.</span>
                            <span asp-validation-for="Input.TargetNodes" class="text-danger small"></span>
                        </div>
                        <div class="form-group">
                            <div class="row align-items-center mb-2">
                                <div class="col-lg-4">
                                    <label for="target-nodes-textarea" class="font-weight-bold my-0">Target nodes</label>
                                    <span class="badge badge-dark file-group-count">0</span>
                                </div>
                                <div class="col-lg-8">
                                    <div class="row align-items-center">
                                        <div class="col-6 col-form-label-sm text-right">
                                            <label for="target-nodes-line-separator" class="font-weight-normal my-0">Line separator:</label>
                                        </div>
                                        <div class="col-6 text-left">
                                            <select id="target-nodes-line-separator" class="custom-select custom-select-sm file-group-separator file-group-line-separator">
                                                <option value=",">comma (",")</option>
                                                <option value=";">semicolon (";")</option>
                                                <option value="\t">tab ("\t")</option>
                                                <option value="\s">space (" ")</option>
                                                <option value="\n" selected>new line ("\n")</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <textarea id="target-nodes-textarea" class="form-control file-group-text"></textarea>
                            <div class="custom-file mt-2">
                                <input type="file" class="custom-file-input file-group-file-upload" />
                                <label class="custom-file-label file-group-file-label">Choose file</label>
                            </div>
                            <span class="text-muted small">The target nodes in the network. The data can also be uploaded from a file. The content will appear, unchanged, above.</span>
                        </div>
                    </div>
                    <div class="file-group" data-type="nodes">
                        <div class="form-group" hidden>
                            <label asp-for="Input.PreferredNodes" class="font-weight-bold">Preferred nodes</label>
                            <textarea asp-for="Input.PreferredNodes" class="form-control file-group-input"></textarea>
                            <span asp-description-for="Input.PreferredNodes" class="text-muted small">The nodes to be used as preferred by the analysis, formatted as a JSON string array. This field should not be directly interacted with, the form entries below should be used to edit the data instead.</span>
                            <span asp-validation-for="Input.PreferredNodes" class="text-danger small"></span>
                        </div>
                        <div class="form-group">
                            <div class="row align-items-center mb-2">
                                <div class="col-lg-4">
                                    <label for="preferred-nodes-textarea" class="font-weight-bold my-0">Preferred nodes</label>
                                    <span class="badge badge-dark file-group-count">0</span>
                                </div>
                                <div class="col-lg-8">
                                    <div class="row align-items-center">
                                        <div class="col-6 col-form-label-sm text-right">
                                            <label for="preferred-nodes-line-separator" class="font-weight-normal my-0">Line separator:</label>
                                        </div>
                                        <div class="col-6 text-left">
                                            <select id="preferred-nodes-line-separator" class="custom-select custom-select-sm file-group-separator file-group-line-separator">
                                                <option value=",">comma (",")</option>
                                                <option value=";">semicolon (";")</option>
                                                <option value="\t">tab ("\t")</option>
                                                <option value="\s">space (" ")</option>
                                                <option value="\n" selected>new line ("\n")</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <textarea id="preferred-nodes-textarea" class="form-control file-group-text"></textarea>
                            <div class="custom-file mt-2">
                                <input type="file" class="custom-file-input file-group-file-upload" />
                                <label class="custom-file-label file-group-file-label">Choose file</label>
                            </div>
                            <span class="text-muted small">The preferred nodes in the network. The data can also be uploaded from a file. The content will appear, unchanged, above.</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container my-2">
            <div class="card shadow-sm">
                <div class="card-header text-white bg-secondary">
                    <div class="row align-items-center">
                        <div class="col-11 text-left">
                            <span class="font-weight-bold">Parameters</span>
                        </div>
                        <div class="col-1 text-center">
                            <span><i class="fas fa-code"></i></span>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-12 order-1 order-lg-1 align-self-center">
                            <label asp-for="Input.RandomSeed" class="font-weight-bold">Random seed</label>
                        </div>
                        <div class="col-lg-12 order-1 order-lg-2">
                            <input asp-for="Input.RandomSeed" class="form-control parameter-group-parameter" data-defaultValue="@Helpers.Models.Parameters.DefaultValues.RandomSeed" />
                        </div>
                        <div class="col-lg-12 order-1 order-lg-3 mb-3">
                            <span asp-description-for="Input.RandomSeed" class="text-muted small">The random seed to be used by the analysis.</span>
                            <span asp-validation-for="Input.RandomSeed" class="text-danger small"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 order-1 order-lg-1 align-self-center">
                            <label asp-for="Input.MaximumIterations" class="font-weight-bold">Maximum iterations</label>
                        </div>
                        <div class="col-lg-4 order-1 order-lg-2">
                            <input asp-for="Input.MaximumIterations" class="form-control parameter-group-parameter" data-defaultValue="@Helpers.Models.Parameters.DefaultValues.MaximumIterations" />
                        </div>
                        <div class="col-lg-4 order-1 order-lg-3 mb-3">
                            <span asp-description-for="Input.MaximumIterations" class="text-muted small">The maximum number of generations for which the algorithm will run.</span>
                            <span asp-validation-for="Input.MaximumIterations" class="text-danger small"></span>
                        </div>
                        <div class="col-lg-4 order-2 order-lg-1 align-self-center">
                            <label asp-for="Input.MaximumIterationsWithoutImprovement" class="font-weight-bold">Maximum iterations without improvement</label>
                        </div>
                        <div class="col-lg-4 order-2 order-lg-2">
                            <input asp-for="Input.MaximumIterationsWithoutImprovement" class="form-control parameter-group-parameter" data-defaultValue="@Helpers.Models.Parameters.DefaultValues.MaximumIterationsWithoutImprovement" />
                        </div>
                        <div class="col-lg-4 order-2 order-lg-3 mb-3">
                            <span asp-description-for="Input.MaximumIterationsWithoutImprovement" class="text-muted small">The maximum number of generations without improvement in the size of the best solutions for which the algorithm will run.</span>
                            <span asp-validation-for="Input.MaximumIterationsWithoutImprovement" class="text-danger small"></span>
                        </div>
                        <div class="col-lg-4 order-3 order-lg-1 align-self-center">
                            <label asp-for="Input.MaximumRunningTime" class="font-weight-bold">Maximum running time</label>
                        </div>
                        <div class="col-lg-4 order-3 order-lg-2">
                            <input asp-for="Input.MaximumRunningTime" class="form-control parameter-group-parameter" data-defaultValue="@Helpers.Models.Parameters.DefaultValues.MaximumRunningTime" />
                        </div>
                        <div class="col-lg-4 order-3 order-lg-3 mb-3">
                            <span asp-description-for="Input.MaximumRunningTime" class="text-muted small">The maximum number of seconds for which the algorithm will run. A value of zero will disable this feature.</span>
                            <span asp-validation-for="Input.MaximumRunningTime" class="text-danger small"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 order-1 order-lg-1 align-self-center">
                            <label asp-for="Input.MaximumPathLength" class="font-weight-bold">Maximum path length</label>
                        </div>
                        <div class="col-lg-4 order-1 order-lg-2">
                            <input asp-for="Input.MaximumPathLength" class="form-control parameter-group-parameter" data-defaultValue="@Helpers.Models.Parameters.DefaultValues.MaximumPathLength" />
                        </div>
                        <div class="col-lg-4 order-1 order-lg-3 mb-3">
                            <span asp-description-for="Input.MaximumPathLength" class="text-muted small">The maximum length of a control path (between a target node and the node which controls it).</span>
                            <span asp-validation-for="Input.MaximumPathLength" class="text-danger small"></span>
                        </div>
                        <div class="col-lg-4 order-2 order-lg-1 align-self-center">
                            <label asp-for="Input.PopulationSize" class="font-weight-bold">Population size</label>
                        </div>
                        <div class="col-lg-4 order-2 order-lg-2">
                            <input asp-for="Input.PopulationSize" class="form-control parameter-group-parameter" data-defaultValue="@Helpers.Models.Parameters.DefaultValues.PopulationSize" />
                        </div>
                        <div class="col-lg-4 order-2 order-lg-3 mb-3">
                            <span asp-description-for="Input.PopulationSize" class="text-muted small">The number of chromosomes in each generation.</span>
                            <span asp-validation-for="Input.PopulationSize" class="text-danger small"></span>
                        </div>
                        <div class="col-lg-4 order-3 order-lg-1 align-self-center">
                            <label asp-for="Input.RandomGenesPerChromosome" class="font-weight-bold">Random genes per chromosome</label>
                        </div>
                        <div class="col-lg-4 order-3 order-lg-2">
                            <input asp-for="Input.RandomGenesPerChromosome" class="form-control parameter-group-parameter" data-defaultValue="@Helpers.Models.Parameters.DefaultValues.RandomGenesPerChromosome" />
                        </div>
                        <div class="col-lg-4 order-3 order-lg-3 mb-3">
                            <span asp-description-for="Input.RandomGenesPerChromosome" class="text-muted small">The maximum number of genes in a randomly generated chromosome that will have a randomly generated value. All of the other genes will have a default value.</span>
                            <span asp-validation-for="Input.RandomGenesPerChromosome" class="text-danger small"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 order-1 order-lg-1 align-self-center">
                            <label asp-for="Input.PercentageRandom" class="font-weight-bold">Percentage of random chromosomes</label>
                        </div>
                        <div class="col-lg-4 order-1 order-lg-2">
                            <input asp-for="Input.PercentageRandom" class="form-control parameter-group-parameter" data-defaultValue="@Helpers.Models.Parameters.DefaultValues.PercentageRandom" />
                        </div>
                        <div class="col-lg-4 order-1 order-lg-3 mb-3">
                            <span asp-description-for="Input.PercentageRandom" class="text-muted small">The percentage of randomly generated chromosomes in any population.</span>
                            <span asp-validation-for="Input.PercentageRandom" class="text-danger small"></span>
                        </div>
                        <div class="col-lg-4 order-2 order-lg-1 align-self-center">
                            <label asp-for="Input.PercentageElite" class="font-weight-bold">Percentage of elite chromosomes</label>
                        </div>
                        <div class="col-lg-4 order-2 order-lg-2">
                            <input asp-for="Input.PercentageElite" class="form-control parameter-group-parameter" data-defaultValue="@Helpers.Models.Parameters.DefaultValues.PercentageElite" />
                        </div>
                        <div class="col-lg-4 order-2 order-lg-3 mb-3">
                            <span asp-description-for="Input.PercentageElite" class="text-muted small">The maximum percentage of elite chromosomes saved directly from one generation to the next.</span>
                            <span asp-validation-for="Input.PercentageElite" class="text-danger small"></span>
                        </div>
                        <div class="col-lg-4 order-3 order-lg-1 align-self-center">
                            <label asp-for="Input.ProbabilityMutation" class="font-weight-bold">Probability of mutation</label>
                        </div>
                        <div class="col-lg-4 order-3 order-lg-2">
                            <input asp-for="Input.ProbabilityMutation" class="form-control parameter-group-parameter" data-defaultValue="@Helpers.Models.Parameters.DefaultValues.ProbabilityMutation" />
                        </div>
                        <div class="col-lg-4 order-3 order-lg-3 mb-3">
                            <span asp-description-for="Input.ProbabilityMutation" class="text-muted small">The probability for any new generated chromosome to suffer a mutation.</span>
                            <span asp-validation-for="Input.ProbabilityMutation" class="text-danger small"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6 order-1 order-lg-1 align-self-center">
                            <label asp-for="Input.CrossoverType" class="font-weight-bold">Crossover type</label>
                        </div>
                        <div class="col-lg-6 order-1 order-lg-2">
                            <select asp-for="Input.CrossoverType" asp-items="Html.GetEnumSelectList<Data.Enumerations.AnalysisCrossoverType>()" class="form-control parameter-group-parameter" data-defaultValue="@Helpers.Models.Parameters.DefaultValues.CrossoverType"></select>
                        </div>
                        <div class="col-lg-6 order-1 order-lg-3 mb-3">
                            <span asp-description-for="Input.CrossoverType" class="text-muted small">The crossover algorithm which will be used.</span>
                            <span asp-validation-for="Input.CrossoverType" class="text-danger small"></span>
                        </div>
                        <div class="col-lg-6 order-2 order-lg-1 align-self-center">
                            <label asp-for="Input.MutationType" class="font-weight-bold">Mutation type</label>
                        </div>
                        <div class="col-lg-6 order-2 order-lg-2">
                            <select asp-for="Input.MutationType" asp-items="Html.GetEnumSelectList<Data.Enumerations.AnalysisMutationType>()" class="form-control parameter-group-parameter" data-defaultValue="@Helpers.Models.Parameters.DefaultValues.MutationType"></select>
                        </div>
                        <div class="col-lg-6 order-2 order-lg-3 mb-3">
                            <span asp-description-for="Input.MutationType" class="text-muted small">The mutation algorithm which will be used.</span>
                            <span asp-validation-for="Input.MutationType" class="text-danger small"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container my-2">
            <button type="submit" class="btn btn-block btn-success shadow-sm" title="Create">
                <span>Create</span>
            </button>
        </div>
    </form>
</div>
